<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Basketball Superstars - Poki</title>
  <script>
  async function loadDataParts() {
    const parts = [
      "Build/73835abebd1d4f6ab532127b21530003.data.part1",
      "Build/73835abebd1d4f6ab532127b21530003.data.part2",
      "Build/73835abebd1d4f6ab532127b21530003.data.part3"
    ];

    const buffers = await Promise.all(parts.map(url => fetch(url).then(r => r.arrayBuffer())));
    const totalLength = buffers.reduce((a, b) => a + b.byteLength, 0);
    const merged = new Uint8Array(totalLength);

    let offset = 0;
    for (const buf of buffers) {
      merged.set(new Uint8Array(buf), offset);
      offset += buf.byteLength;
    }

    return merged.buffer;
  }

  async function loadWasmParts() {
    const parts = [
      "Build/15254736ec937a6da07a20824431e9f5.wasm.part1",
      "Build/15254736ec937a6da07a20824431e9f5.wasm.part2",
      "Build/15254736ec937a6da07a20824431e9f5.wasm.part3"
    ];

    const buffers = await Promise.all(parts.map(url => fetch(url).then(r => r.arrayBuffer())));
    const totalLength = buffers.reduce((a, b) => a + b.byteLength, 0);
    const merged = new Uint8Array(totalLength);

    let offset = 0;
    for (const buf of buffers) {
      merged.set(new Uint8Array(buf), offset);
      offset += buf.byteLength;
    }

    return merged.buffer;
  }

  // Single fetch override for both data and wasm
  const originalFetch = window.fetch;
  window.fetch = async function(url, options) {
    if (url.endsWith(".data")) {
      const mergedBuffer = await loadDataParts();
      return new Response(mergedBuffer);
    } 
    if (url.endsWith(".wasm")) {
      const mergedBuffer = await loadWasmParts();
      return new Response(mergedBuffer, {
        headers: { 'Content-Type': 'application/wasm' }
      });
    }
    return originalFetch(url, options);
  };
  </script>

  
  <script>
    window.config = {
      loader: 'unity-2020',
      debug: false,
      maxRatio: 24 / 9,
      minRatio: 9 / 24,

      title: 'Basketball Superstars',
      thumbnail: 'https:\/\/img.poki-cdn.com\/9c5a5477b6fcc030def9eaeb017ac0e0.png',
      numScreenshots: 4,

      unityVersion: '2022.3.34f1',
      unityWebglBuildUrl: '',

      fileSize: 59,
      cachedDecompressedFileSizes: {
        '15254736ec937a6da07a20824431e9f5.wasm': 30141848,
        '73835abebd1d4f6ab532127b21530003.data': 28726909,
        '7a338b3fd2122f2d15642965d3e62945.framework.js': 407223,
        'bb0d9ecdb05db3e84da20bd14a4f84dc.loader.js': 20642,
      },
      "metadata": {
        "poki_template_version": 1,
        "background_color": "#000000",
        "code_filename": "15254736ec937a6da07a20824431e9f5.wasm",
        "company_name": "Virtual Projects",
        "data_filename": "73835abebd1d4f6ab532127b21530003.data",
        "development_player": "false",
        "framework_filename": "7a338b3fd2122f2d15642965d3e62945.framework.js",
        "height": "600",
        "loader_filename": "bb0d9ecdb05db3e84da20bd14a4f84dc.loader.js",
        "product_name": "Superstars",
        "product_version": "1.2.2",
        "splash_screen_style": "Dark",
        "unity_version": "2022.3.34f1",
        "use_data_caching": "true",
        "use_threads": "false",
        "use_wasm": "true",
        "use_webgl_1_0": "false",
        "use_webgl_2_0": "true",
        "width": "960"
      }
    };
  </script>
  <!-- will be copied to the resulting head //-->
</head>

<body>
  <script src="loaders/v3/master-loader.js"></script>
  <!-- will be copied to the resulting body //-->
  <!-- will also be copied to the resulting body //-->
</body>

</html>